<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Ballp · LazySets.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link href="../../../assets/documenter.css" rel="stylesheet" type="text/css"/><link href="../../../assets/juliareach.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../../../"><img class="logo" src="../../../assets/logo.png" alt="LazySets.jl logo"/></a><h1>LazySets.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../../">Home</a></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="../../../man/getting_started/">Getting Started</a></li><li><a class="toctext" href="../../../man/polyhedral_approximations/">Polyhedral Approximations</a></li><li><a class="toctext" href="../../../man/decompose_example/">Decomposing an Affine Map</a></li><li><a class="toctext" href="../../../man/fast_2d_LPs/">Fast 2D LPs</a></li><li><a class="toctext" href="../../../man/iterative_refinement/">Iterative Refinement</a></li><li><a class="toctext" href="../../../man/interval_hulls/">Interval Hulls</a></li><li><a class="toctext" href="../../../man/convex_hulls/">Convex Hulls</a></li><li><a class="toctext" href="../../../man/set_operations/">Operations on Sets</a></li><li><a class="toctext" href="../../../man/reach_zonotopes/">A Reachability Algorithm</a></li><li><a class="toctext" href="../../../man/reach_zonotopes_hybrid/">A Hybrid Reachability Algorithm</a></li><li><a class="toctext" href="../../../man/concrete_polyhedra/">Concrete Polyhedra</a></li><li><a class="toctext" href="../../../man/parallel_approximations/">Parallel Approximations</a></li><li><a class="toctext" href="../../../man/lazy_intersections/">Lazy Intersections</a></li></ul></li><li><span class="toctext">Library</span><ul><li><a class="toctext" href="../../interfaces/">Interfaces</a></li><li><span class="toctext">Sets</span><ul><li><a class="toctext" href="../Ball1/">Ball1</a></li><li><a class="toctext" href="../Ball2/">Ball2</a></li><li><a class="toctext" href="../BallInf/">BallInf</a></li><li class="current"><a class="toctext" href>Ballp</a><ul class="internal"></ul></li><li><a class="toctext" href="../Ellipsoid/">Ellipsoid</a></li><li><a class="toctext" href="../EmptySet/">EmptySet</a></li><li><a class="toctext" href="../HalfSpace/">HalfSpace</a></li><li><a class="toctext" href="../HPolygon/">HPolygon</a></li><li><a class="toctext" href="../HPolygonOpt/">HPolygonOpt</a></li><li><a class="toctext" href="../HPolyhedron/">HPolyhedron</a></li><li><a class="toctext" href="../HPolytope/">HPolytope</a></li><li><a class="toctext" href="../Hyperplane/">Hyperplane</a></li><li><a class="toctext" href="../Hyperrectangle/">Hyperrectangle</a></li><li><a class="toctext" href="../Interval/">Interval</a></li><li><a class="toctext" href="../Line/">Line</a></li><li><a class="toctext" href="../LineSegment/">LineSegment</a></li><li><a class="toctext" href="../PolynomialZonotope/">PolynomialZonotope</a></li><li><a class="toctext" href="../Singleton/">Singleton</a></li><li><a class="toctext" href="../Universe/">Universe</a></li><li><a class="toctext" href="../VPolygon/">VPolygon</a></li><li><a class="toctext" href="../VPolytope/">VPolytope</a></li><li><a class="toctext" href="../ZeroSet/">ZeroSet</a></li><li><a class="toctext" href="../Zonotope/">Zonotope</a></li></ul></li><li><span class="toctext">Lazy Operations</span><ul><li><a class="toctext" href="../../lazy_operations/AffineMap/">AffineMap</a></li><li><a class="toctext" href="../../lazy_operations/Bloating/">Bloating</a></li><li><a class="toctext" href="../../lazy_operations/CartesianProduct/">CartesianProduct</a></li><li><a class="toctext" href="../../lazy_operations/Complement/">Complement</a></li><li><a class="toctext" href="../../lazy_operations/ConvexHull/">ConvexHull</a></li><li><a class="toctext" href="../../lazy_operations/ExponentialMap/">ExponentialMap</a></li><li><a class="toctext" href="../../lazy_operations/Intersection/">Intersection</a></li><li><a class="toctext" href="../../lazy_operations/LinearMap/">LinearMap</a></li><li><a class="toctext" href="../../lazy_operations/MinkowskiSum/">MinkowskiSum</a></li><li><a class="toctext" href="../../lazy_operations/Rectification/">Rectification</a></li><li><a class="toctext" href="../../lazy_operations/ResetMap/">ResetMap</a></li><li><a class="toctext" href="../../lazy_operations/SymmetricIntervalHull/">SymmetricIntervalHull</a></li><li><a class="toctext" href="../../lazy_operations/Translation/">Translation</a></li><li><a class="toctext" href="../../lazy_operations/UnionSet/">UnionSet</a></li></ul></li><li><a class="toctext" href="../../binary_functions/">Concrete Operations</a></li><li><a class="toctext" href="../../conversion/">Conversions between set representations</a></li><li><a class="toctext" href="../../comparisons/">Comparisons</a></li><li><a class="toctext" href="../../approximations/">Approximations</a></li><li><a class="toctext" href="../../utils/">Utility Functions</a></li><li><a class="toctext" href="../../parallel/">Parallel</a></li></ul></li><li><a class="toctext" href="../../../about/">About</a></li></ul></nav><article id="docs"><header><nav><ul><li>Library</li><li>Sets</li><li><a href>Ballp</a></li></ul><a class="edit-page" href="https://github.com/JuliaReach/LazySets.jl/blob/master/docs/src/lib/sets/Ballp.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Ballp</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="def_Ballp-1" href="#def_Ballp-1">p-norm ball (Ballp)</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="LazySets.Ballp" href="#LazySets.Ballp"><code>LazySets.Ballp</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Ballp{N&lt;:AbstractFloat} &lt;: AbstractCentrallySymmetric{N}</code></pre><p>Type that represents a ball in the p-norm, for <span>$1 ≤ p ≤ ∞$</span>.</p><p>It is defined as the set</p><div>\[\mathcal{B}_p^n(c, r) = \{ x ∈ \mathbb{R}^n : ‖ x - c ‖_p ≤ r \},\]</div><p>where <span>$c ∈ \mathbb{R}^n$</span> is its center and <span>$r ∈ \mathbb{R}_+$</span> its radius. Here <span>$‖ ⋅ ‖_p$</span> for <span>$1 ≤ p ≤ ∞$</span> denotes the vector <span>$p$</span>-norm, defined as <span>$‖ x ‖_p = \left( \sum\limits_{i=1}^n |x_i|^p \right)^{1/p}$</span> for any <span>$x ∈ \mathbb{R}^n$</span>.</p><p><strong>Fields</strong></p><ul><li><code>p</code>      – norm as a real scalar</li><li><code>center</code> – center of the ball as a real vector</li><li><code>radius</code> – radius of the ball as a scalar (<span>$≥ 0$</span>)</li></ul><p><strong>Notes</strong></p><p>The special cases <span>$p=1$</span>, <span>$p=2$</span> and <span>$p=∞$</span> fall back to the specialized types <code>Ball1</code>, <code>Ball2</code> and <code>BallInf</code>, respectively.</p><p><strong>Examples</strong></p><p>A five-dimensional ball in the <span>$p=3/2$</span> norm centered at the origin of radius 0.5:</p><pre><code class="language-julia-repl">julia&gt; B = Ballp(3/2, zeros(5), 0.5)
Ballp{Float64}(1.5, [0.0, 0.0, 0.0, 0.0, 0.0], 0.5)
julia&gt; dim(B)
5</code></pre><p>We evaluate the support vector in direction <span>$[1,2,…,5]$</span>:</p><pre><code class="language-julia-repl">julia&gt; σ([1., 2, 3, 4, 5], B)
5-element Array{Float64,1}:
 0.013516004434607558
 0.05406401773843023
 0.12164403991146802
 0.21625607095372093
 0.33790011086518895</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaReach/LazySets.jl/blob/ba307fef9847c2e5e0c504f670705eb0e433908f/src/Sets/Ballp.jl#L6-L55">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="LazySets.σ-Union{Tuple{N}, Tuple{AbstractArray{N,1},Ballp{N}}} where N&lt;:AbstractFloat" href="#LazySets.σ-Union{Tuple{N}, Tuple{AbstractArray{N,1},Ballp{N}}} where N&lt;:AbstractFloat"><code>LazySets.σ</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">σ(d::AbstractVector{N}, B::Ballp{N}) where {N&lt;:AbstractFloat}</code></pre><p>Return the support vector of a <code>Ballp</code> in a given direction.</p><p><strong>Input</strong></p><ul><li><code>d</code> – direction</li><li><code>B</code> – ball in the p-norm</li></ul><p><strong>Output</strong></p><p>The support vector in the given direction. If the direction has norm zero, the center of the ball is returned.</p><p><strong>Algorithm</strong></p><p>The support vector of the unit ball in the <span>$p$</span>-norm along direction <span>$d$</span> is:</p><div>\[σ_{\mathcal{B}_p^n(0, 1)}(d) = \dfrac{\tilde{v}}{‖\tilde{v}‖_q},\]</div><p>where <span>$\tilde{v}_i = \frac{|d_i|^q}{d_i}$</span> if <span>$d_i ≠ 0$</span> and <span>$tilde{v}_i = 0$</span> otherwise, for all <span>$i=1,…,n$</span>, and <span>$q$</span> is the conjugate number of <span>$p$</span>. By the affine transformation <span>$x = r\tilde{x} + c$</span>, one obtains that the support vector of <span>$\mathcal{B}_p^n(c, r)$</span> is</p><div>\[σ_{\mathcal{B}_p^n(c, r)}(d) = \dfrac{v}{‖v‖_q},\]</div><p>where <span>$v_i = c_i + r\frac{|d_i|^q}{d_i}$</span> if <span>$d_i ≠ 0$</span> and <span>$v_i = 0$</span> otherwise, for all <span>$i = 1, …, n$</span>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaReach/LazySets.jl/blob/ba307fef9847c2e5e0c504f670705eb0e433908f/src/Sets/Ballp.jl#L105-L138">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.:∈-Union{Tuple{N}, Tuple{AbstractArray{N,1},Ballp{N}}} where N&lt;:AbstractFloat" href="#Base.:∈-Union{Tuple{N}, Tuple{AbstractArray{N,1},Ballp{N}}} where N&lt;:AbstractFloat"><code>Base.:∈</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">∈(x::AbstractVector{N}, B::Ballp{N}) where {N&lt;:AbstractFloat}</code></pre><p>Check whether a given point is contained in a ball in the p-norm.</p><p><strong>Input</strong></p><ul><li><code>x</code> – point/vector</li><li><code>B</code> – ball in the p-norm</li></ul><p><strong>Output</strong></p><p><code>true</code> iff <span>$x ∈ B$</span>.</p><p><strong>Notes</strong></p><p>This implementation is worst-case optimized, i.e., it is optimistic and first computes (see below) the whole sum before comparing to the radius. In applications where the point is typically far away from the ball, a fail-fast implementation with interleaved comparisons could be more efficient.</p><p><strong>Algorithm</strong></p><p>Let <span>$B$</span> be an <span>$n$</span>-dimensional ball in the p-norm with radius <span>$r$</span> and let <span>$c_i$</span> and <span>$x_i$</span> be the ball&#39;s center and the vector <span>$x$</span> in dimension <span>$i$</span>, respectively. Then <span>$x ∈ B$</span> iff <span>$\left( ∑_{i=1}^n |c_i - x_i|^p \right)^{1/p} ≤ r$</span>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; B = Ballp(1.5, [1., 1.], 1.)
Ballp{Float64}(1.5, [1.0, 1.0], 1.0)
julia&gt; [.5, -.5] ∈ B
false
julia&gt; [.5, 1.5] ∈ B
true</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaReach/LazySets.jl/blob/ba307fef9847c2e5e0c504f670705eb0e433908f/src/Sets/Ballp.jl#L151-L189">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="LazySets.center-Union{Tuple{Ballp{N}}, Tuple{N}} where N&lt;:AbstractFloat" href="#LazySets.center-Union{Tuple{Ballp{N}}, Tuple{N}} where N&lt;:AbstractFloat"><code>LazySets.center</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">center(B::Ballp{N}) where {N&lt;:AbstractFloat}</code></pre><p>Return the center of a ball in the p-norm.</p><p><strong>Input</strong></p><ul><li><code>B</code> – ball in the p-norm</li></ul><p><strong>Output</strong></p><p>The center of the ball in the p-norm.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaReach/LazySets.jl/blob/ba307fef9847c2e5e0c504f670705eb0e433908f/src/Sets/Ballp.jl#L84-L96">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.rand-Tuple{Type{Ballp}}" href="#Base.rand-Tuple{Type{Ballp}}"><code>Base.rand</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">rand(::Type{Ballp}; [N]::Type{&lt;:Real}=Float64, [dim]::Int=2,
     [rng]::AbstractRNG=GLOBAL_RNG, [seed]::Union{Int, Nothing}=nothing)</code></pre><p>Create a random ball in the p-norm.</p><p><strong>Input</strong></p><ul><li><code>Ballp</code> – type for dispatch</li><li><code>N</code>     – (optional, default: <code>Float64</code>) numeric type</li><li><code>dim</code>   – (optional, default: 2) dimension</li><li><code>rng</code>   – (optional, default: <code>GLOBAL_RNG</code>) random number generator</li><li><code>seed</code>  – (optional, default: <code>nothing</code>) seed for reseeding</li></ul><p><strong>Output</strong></p><p>A random ball in the p-norm.</p><p><strong>Algorithm</strong></p><p>The center and radius are normally distributed with mean 0 and standard deviation 1. Additionally, the radius is nonnegative. The p-norm is a normally distributed number ≥ 1 with mean 1 and standard deviation 1.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaReach/LazySets.jl/blob/ba307fef9847c2e5e0c504f670705eb0e433908f/src/Sets/Ballp.jl#L199-L224">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="LazySets.translate-Union{Tuple{N}, Tuple{Ballp{N},AbstractArray{N,1}}} where N&lt;:AbstractFloat" href="#LazySets.translate-Union{Tuple{N}, Tuple{Ballp{N},AbstractArray{N,1}}} where N&lt;:AbstractFloat"><code>LazySets.translate</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">translate(B::Ballp{N}, v::AbstractVector{N}) where {N&lt;:AbstractFloat}</code></pre><p>Translate (i.e., shift) a ball in the p-norm by a given vector.</p><p><strong>Input</strong></p><ul><li><code>B</code> – ball in the p-norm</li><li><code>v</code> – translation vector</li></ul><p><strong>Output</strong></p><p>A translated ball in the p- norm.</p><p><strong>Algorithm</strong></p><p>We add the vector to the center of the ball.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaReach/LazySets.jl/blob/ba307fef9847c2e5e0c504f670705eb0e433908f/src/Sets/Ballp.jl#L237-L254">source</a></section><p>Inherited from <a href="../../interfaces/#LazySets.LazySet"><code>LazySet</code></a>:</p><ul><li><a href="../../interfaces/#LinearAlgebra.norm"><code>norm</code></a></li><li><a href="../../interfaces/#LazySets.radius"><code>radius</code></a></li><li><a href="../../interfaces/#LazySets.diameter"><code>diameter</code></a></li></ul><p>Inherited from <a href="../../interfaces/#LazySets.AbstractCentrallySymmetric"><code>AbstractCentrallySymmetric</code></a>:</p><ul><li><a href="../../interfaces/#LazySets.dim-Tuple{AbstractCentrallySymmetric}"><code>dim</code></a></li><li><a href="../../interfaces/#LazySets.isbounded-Tuple{AbstractCentrallySymmetric}"><code>isbounded</code></a></li><li><a href="../../interfaces/#Base.isempty-Tuple{AbstractCentrallySymmetric}"><code>isempty</code></a></li><li><a href="../../interfaces/#LazySets.isuniversal-Union{Tuple{AbstractCentrallySymmetric{N}}, Tuple{N}, Tuple{AbstractCentrallySymmetric{N},Bool}} where N&lt;:Real"><code>isuniversal</code></a></li><li><a href="../../interfaces/#LazySets.an_element-Union{Tuple{AbstractCentrallySymmetric{N}}, Tuple{N}} where N&lt;:Real"><code>an_element</code></a></li></ul><footer><hr/><a class="previous" href="../BallInf/"><span class="direction">Previous</span><span class="title">BallInf</span></a><a class="next" href="../Ellipsoid/"><span class="direction">Next</span><span class="title">Ellipsoid</span></a></footer></article></body></html>
